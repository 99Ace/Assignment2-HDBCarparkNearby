{"filter":false,"title":"draft.html","tooltip":"/draft.html","undoManager":{"mark":2,"position":2,"stack":[[{"start":{"row":0,"column":0},"end":{"row":34,"column":7},"action":"insert","lines":["<!DOCTYPE html>","<html>","  <head>","    <title>Simple Map</title>","    <meta name=\"viewport\" content=\"initial-scale=1.0\">","    <meta charset=\"utf-8\">","    <style>","      /* Always set the map height explicitly to define the size of the div","       * element that contains the map. */","      #map {","        height: 100%;","      }","      /* Optional: Makes the sample page fill the window. */","      html, body {","        height: 100%;","        margin: 0;","        padding: 0;","      }","    </style>","  </head>","  <body>","    <div id=\"map\"></div>","    <script>","      var map;","      function initMap() {","        map = new google.maps.Map(document.getElementById('map'), {","          center: {lat: -34.397, lng: 150.644},","          zoom: 8","        });","      }","    </script>","    <script src=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyA1nzF_4Fq-BZd-nGgxYlpdbzeAiBtkkkw&callback=initMap\"","    async defer></script>","  </body>","</html>"],"id":1}],[{"start":{"row":0,"column":0},"end":{"row":34,"column":7},"action":"remove","lines":["<!DOCTYPE html>","<html>","  <head>","    <title>Simple Map</title>","    <meta name=\"viewport\" content=\"initial-scale=1.0\">","    <meta charset=\"utf-8\">","    <style>","      /* Always set the map height explicitly to define the size of the div","       * element that contains the map. */","      #map {","        height: 100%;","      }","      /* Optional: Makes the sample page fill the window. */","      html, body {","        height: 100%;","        margin: 0;","        padding: 0;","      }","    </style>","  </head>","  <body>","    <div id=\"map\"></div>","    <script>","      var map;","      function initMap() {","        map = new google.maps.Map(document.getElementById('map'), {","          center: {lat: -34.397, lng: 150.644},","          zoom: 8","        });","      }","    </script>","    <script src=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyA1nzF_4Fq-BZd-nGgxYlpdbzeAiBtkkkw&callback=initMap\"","    async defer></script>","  </body>","</html>"],"id":2},{"start":{"row":0,"column":0},"end":{"row":140,"column":0},"action":"insert","lines":["<!doctype html>","<html lang=\"en\">","","<head>","  <!-- Required meta tags -->","  <meta charset=\"utf-8\">","  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">","  <!-- Bootstrap CSS -->","  <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\" integrity=\"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\" crossorigin=\"anonymous\">","  <!--JQuery Script-->","  <script src=\"https://code.jquery.com/jquery-3.4.1.js\" integrity=\"sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=\" crossorigin=\"anonymous\"></script>","  <link rel=\"stylesheet\" href=\"style/style.css\" type=\"text/css\" />","  <script type=\"text/javascript\" src=\"scripts/script.js\"></script>","  <style>","  </style>","  <title>Carpark availablity</title>","</head>","","<body>","  <!--<main class=\"container-fluid\">-->","  <div class=\"main-frame bg-dark \">","    <div class=\"result-frame row\">","      <div class=\"map-frame\"><div id=\"map\"></div></div>","      <div class=\"zoom-frame\"><div id=\"map2\"></div></div>","    </div>","    <div class=\"entry-frame\"><div class=\"entry-box\">","      <p>https://api.data.gov.sg/v1/transport/taxi-availability</p>","      <div class=\"button badge-primary\">GET TAXI</div>","    </div></div>","  </div>","  <!--</main>-->","","","","","","  <script>","    /* global $ google navigator axios*/","    var map, map2, infoWindow;","    var endpoint = \"https://api.data.gov.sg/v1/transport/taxi-availability\"","    var data;","    ","    function initMap() {","      map = new google.maps.Map(document.getElementById('map'), {","        center: { lat: 1.3521, lng: 103.8198 },","        zoom: 10","      });","      map2 = new google.maps.Map(document.getElementById('map2'), {","        center: { lat: 1.3521, lng: 103.8198 },","        zoom: 18","      });","      ","      infoWindow = new google.maps.InfoWindow;","      if (navigator.geolocation) {","        //get the location of the user current position","        navigator.geolocation.getCurrentPosition(function(position) {  // get user position","          var pos = {","            lat: position.coords.latitude,","            lng: position.coords.longitude,","          };","","          infoWindow.setPosition(pos); // set the window to the location of user","          markerPlacement(pos,map) //set the marker to the location of the user, pos contains the lat and lng","          markerPlacement(pos,map2) //set the marker to the location of the user, pos contains the lat and lng","          ","          // infoWindow.setContent('You are here'); //Message to User at the location set","          // infoWindow.open(map);    //Display the text in line 63","          // infoWindow.open(map2); ","","          map.setCenter(pos); //Set the map to center to the position set in pos","          map2.setCenter(pos);","","        }, function() {","          handleLocationError(true, infoWindow, map.getCenter());","        });","     ","      }","      else {","        // Browser doesn't support Geolocation","        handleLocationError(false, infoWindow, map.getCenter());","      }","    }","","    //function to place marker of coordinates given","    function markerPlacement(myLatLng,map){ //myLatLng to set location, map to set map to place marker","      var marker = new google.maps.Marker({","          position: myLatLng,","          map: map,  ","          title: 'Hello World!'","    })","    }","","    //function to set window center to user location","    function handleLocationError(browserHasGeolocation, infoWindow, pos) {","      infoWindow.setPosition(pos);","      infoWindow.setContent(browserHasGeolocation ?","        'Error: The Geolocation service failed.' :","        'Error: Your browser doesn\\'t support geolocation.');","      infoWindow.open(map);","    }","    ","    // get data source function","    function getDataFromEndpoint()","    {","      axios.get(endpoint)","      .then(function(response){","          let results = response.data.features[0];","          callback(response);","          console.log(response)","      });","      ","    }","    ","    ","    // function getDataFromEndpoint(callback)    {","    //   axios.get(endpoint)","    //   .then(function(response){","    //       let results = response.data.features[0];","    //       callback(response);","    //       console.log(response)","    //   });","      ","    // }","    ","    ","  </script>","","","  <!--Google Map link-->","  <script src=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyA1nzF_4Fq-BZd-nGgxYlpdbzeAiBtkkkw&callback=initMap&libraries=places\" async defer></script>","  <!--AXIOS link-->","  <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.0/axios.js\" type=\"text/css\" />","  <!-- Optional JavaScript -->","  <!-- jQuery first, then Popper.js, then Bootstrap JS -->","  <script src=\"https://code.jquery.com/jquery-3.2.1.slim.min.js\" integrity=\"sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN\" crossorigin=\"anonymous\"></script>","  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js\" integrity=\"sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q\" crossorigin=\"anonymous\"></script>","  <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js\" integrity=\"sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl\" crossorigin=\"anonymous\"></script>","</body>","","</html>",""]}],[{"start":{"row":102,"column":4},"end":{"row":102,"column":7},"action":"insert","lines":["// "],"id":3},{"start":{"row":103,"column":4},"end":{"row":103,"column":7},"action":"insert","lines":["// "]},{"start":{"row":104,"column":4},"end":{"row":104,"column":7},"action":"insert","lines":["// "]},{"start":{"row":105,"column":4},"end":{"row":105,"column":7},"action":"insert","lines":["// "]},{"start":{"row":106,"column":4},"end":{"row":106,"column":7},"action":"insert","lines":["// "]},{"start":{"row":107,"column":4},"end":{"row":107,"column":7},"action":"insert","lines":["// "]},{"start":{"row":108,"column":4},"end":{"row":108,"column":7},"action":"insert","lines":["// "]},{"start":{"row":109,"column":4},"end":{"row":109,"column":7},"action":"insert","lines":["// "]},{"start":{"row":111,"column":4},"end":{"row":111,"column":7},"action":"insert","lines":["// "]}]]},"ace":{"folds":[],"scrolltop":780,"scrollleft":0,"selection":{"start":{"row":102,"column":1},"end":{"row":111,"column":8},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":38,"state":"js-start","mode":"ace/mode/html"}},"timestamp":1562145508272,"hash":"b0cca7a642a10d41c146ff3ecbb5e7d58a29e69b"}