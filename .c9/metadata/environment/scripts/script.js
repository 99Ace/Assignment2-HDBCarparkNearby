{"changed":true,"filter":false,"title":"script.js","tooltip":"/scripts/script.js","value":"/*global $ google navigator axios MarkerClusterer*/\nvar map, infoWindow;\nvar currentMarker = [];\nvar iconMarker = [\n      \"https://img.icons8.com/color/48/000000/car.png\",\n      \"https://img.icons8.com/ultraviolet/40/000000/filled-flag.png\"\n  ]  \nvar card = document.getElementById('pac-card');\nvar markerTracker =[];\nvar locations = [];\nvar markers=[];\nvar markerCluster;\nvar radius;\nvar counter;\n//GOOGLE MAP FUNCTIONS\n//DISPLAY MAP\nfunction initMap() {\n  \n\n  // console.log(currentMarker.position)\n  map = new google.maps.Map(document.getElementById('map'), {\n    map: map,\n    draggable: true,\n    position: {\n      lat: 1.3521, \n      lng: 103.8198\n    },\n    zoom : 15\n  });\n \n  map.controls[google.maps.ControlPosition.LEFT].push(card);\n  infoWindow = new google.maps.InfoWindow;\n  getCurrentLocation();\n}\n//FUNCTION TO GET THE LOCATION OF USER\nfunction getCurrentLocation() {\n  if (navigator.geolocation) {\n    navigator.geolocation.getCurrentPosition(function(position) { \n      var pos = {\n        lat: position.coords.latitude,\n        lng: position.coords.longitude\n      };\n      markerPlacement({\n        pos :pos, \n        icon: iconMarker[0], \n        map: map,\n        animation : google.maps.Animation.BOUNCE\n      });\n      map.setZoom(12); \n      map.setCenter(pos); \n      carparkInRadius(currentMarker[0].position.lat(),currentMarker[0].position.lng());\n    }, function() {\n      handleLocationError(true, infoWindow, map.getCenter());\n    });\n  }\n  else {\n    // Browser doesn't support Geolocation\n    handleLocationError(false, infoWindow, map.getCenter());\n  }\n}\n//function to send Error message if location sevice fail\nfunction handleLocationError(browserHasGeolocation, infoWindow, pos) {\n  infoWindow.setPosition(pos);\n  infoWindow.setContent(browserHasGeolocation ?\n    'Error: The Geolocation service failed.' :\n    'Error: Your browser doesn\\'t support geolocation.');\n  infoWindow.open(map);\n}\n//AUTO COMPLETE FUNCTION - TO LET USER ENTER THEIR DESIRED LOCATION\nfunction autoCompleteEntry() {\n  var input = document.getElementById('search-location');\n  var autocomplete = new google.maps.places.Autocomplete(input);\n  autocomplete.setComponentRestrictions(\n    // LOCATION OF SEARCH RESTRICTED TO SINGAPORE\n    { 'country': ['sg'] });\n  autocomplete.setFields(\n    ['address_components', 'geometry', 'icon', 'name']);\n  // var infowindow = new google.maps.InfoWindow();\n  // GET THE SELECTED FROM THE DROP DOWN LIST BY INFO WINDOW (REQUIRED SINCE YOU NEED TO ALLOW USER TO SELECT FROM THE LIST)\n  var infowindowContent = document.getElementById('infowindow-content');\n  // SETTING THE MARKER/S TO BE PLACE ON MAP\n  infoWindow.setContent(infowindowContent);\n  var marker = new google.maps.Marker({\n    map: map, //DISPLAY ON WHICH MAP\n    anchorPoint: new google.maps.Point(0, -29)\n  });\n  autocomplete.addListener('place_changed', function() {\n    // clearCurrentMarker();\n    infoWindow.close();\n    // GET AND STORE THE SEARCH INFORMATION\n    var place = autocomplete.getPlace();\n    // ERROR MESSAGE IF WRONG INFO ENTERED\n    if (!place.geometry) {\n      window.alert(\"No details available for input: '\" + place.name + \"'\");\n      return;\n    }\n\n    map.setCenter(place.geometry.location);\n    map.setZoom(12); \n\n    clearCurrentMarker();\n    clearMarkerCluster();\n    markerPlacement({\n      pos : place.geometry.location,\n      icon : iconMarker[0],\n      map : map,\n      animation : google.maps.Animation.BOUNCE\n    })\n    // STORE THE ADDRESS INFO FOR DISPLAY IN INFORMATION FOR MARKER\n    var address = '';\n    if (place.address_components) {\n      address = [\n        (place.address_components[0] && place.address_components[0].short_name || ''),\n        (place.address_components[1] && place.address_components[1].short_name || ''),\n        (place.address_components[2] && place.address_components[2].short_name || '')\n      ].join(' ');\n    }\n    // PLACE THE INFORMATION OF THE MARKER ON THE MAP\n    infowindowContent.children['place-icon'].src = place.icon;\n    infowindowContent.children['place-name'].textContent = place.name;\n    infowindowContent.children['place-address'].textContent = address;\n    document.getElementById(\"search-location\").value = \"\";\n\n    currentMarker.push(marker)\n    carparkInRadius(currentMarker[0].position.lat(),currentMarker[0].position.lng());\n  })\n}\n\n//CREATE MARKER FUNCTION FOR CURRENT LOCATION\nfunction markerPlacement(geoInfo) {\n  var marker = new google.maps.Marker({\n    map: geoInfo.map,\n    draggable: true,\n    icon : geoInfo.icon,\n    position: geoInfo.pos\n  });\n  if (geoInfo.animation){\n    marker.setAnimation(geoInfo.animation);\n  }\n  currentMarker.push(marker)\n}\nfunction markerCP(geoInfo) {\n  var marker = new google.maps.Marker({\n    map: geoInfo.map,\n    draggable: true,\n    icon : geoInfo.icon,\n    position: geoInfo.pos\n  });\n  if (geoInfo.animation){\n    marker.setAnimation(geoInfo.animation);\n  }\n  i++;\n  var infoWindow = new google.maps.InfoWindow({\n          content : \"<h1></h1>\"\n      });\n      marker.addListener('click', function(){\n          infoWindow.open(map,marker);\n  });\n  markers.push(marker)\n \n}\n\n//FILTER THE CARPARKS WITHIN THE USER-SELECTED RADIUS\nfunction carparkInRadius(lat, lng) {\n  // var checker = [];\n  var i = 0;\n  for (let item in carparkData) {\n    var latPos = lat;\n    var lngPos = lng;\n    var latCP = carparkData[item].x_coord;\n    var lngCP = carparkData[item].y_coord;\n    var distance = getDistanceFromLatLonInKm(latPos, lngPos, latCP, lngCP).toFixed(2)*1000; \n    if (distance <= radius) {\n      var cp = {\n        lat: latCP,\n        lng: lngCP\n      };\n      markerCP({\n        map : map,\n        icon : iconMarker[1],\n        pos : cp,\n        animation : google.maps.Animation.DROP\n      })\n     // SET INFOWINDOW FOR THE MARKER UPON CLICK\n      \n   \n      // nearbyCarpark[i]=carparkData[item];\n      // labels.push(carparkData[item].carpark_number); \n      // Object.assign( nearbyCarpark[i], { 'distance' : distance });\n      i++;\n    }\n      \n  }\n  console.log(markers)\n  markerCluster = new MarkerClusterer(map, markers,\n        {imagePath: 'https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m'});\n}\n \n//FUNCTION TO REMOVE MARKERS\nfunction clearCurrentMarker() {\n  currentMarker.forEach(function(m) {\n    m.setMap(null);\n    // console.log(m)\n  });\n  currentMarker = [];\n}\nfunction clearMarkerCluster(){\n  markers.forEach(function(m) {\n    m.setMap(null);\n    // console.log(m)\n  });\n  markers = [];\n\n  if (markerCluster != undefined){\n    markerCluster.clearMarkers(); \n  }\n\n}\n\n//FUNCTION TO SEARCH FOR A LOCATION AND PLACE A MARKER\n\n\nvar dataSource = \"https://api.data.gov.sg/v1/transport/carpark-availability\";\nvar dataSource2 = \"carparkdata.json\";\nvar carparkData = [];\nvar convertSV21;\n\n//AXIO TO GET DATA FROM API\nfunction getDataFromEndpoint(callback) {\n  axios.get(dataSource)\n    .then(function(response) {\n      if (response) {\n        let result = response.data.items[0].carpark_data;\n        // // console.log(result)\n        callback(result)\n      }\n    })\n}\n//AXIO TO GET DATA FROM JSON FILE (local)\nfunction getDataFromFile(callback) {\n  axios.get(dataSource2)\n    .then(function(response) {\n      let result = response.data;\n      // console.log(result)\n      callback(result)\n    })\n}\n//AXIO TO CONVERT XY TO LATLNG\nfunction getConvertData(callback) {\n  axios.get(convertSV21)\n    .then(function(response) {\n      let result = response.data;\n      // console.log(result)\n      callback(result);\n    })\n}\n//HEVERSINE FORMULA TO CALCULATE DISTANCE BETWEEN 2 LATLNG (CREDIT to stackOverflow solution)\nfunction getDistanceFromLatLonInKm(lat1, lon1, lat2, lon2) {\n  var R = 6371; // Radius of the earth in km\n  var dLat = deg2rad(lat2 - lat1); // deg2rad below\n  var dLon = deg2rad(lon2 - lon1);\n  var a =\n    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n    Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) *\n    Math.sin(dLon / 2) * Math.sin(dLon / 2);\n  var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  var d = R * c; // Distance in km\n  return d;\n}\nfunction deg2rad(deg) {\n  return deg * (Math.PI / 180)\n}\n//ORIGINAL working set TO PROCESS DATA\ngetDataFromFile(function(carparkAddInfo) {\n  getDataFromEndpoint(function(data) {\n    for (let item in data) {\n      var temp_data = [];\n      temp_data[item] = { \"carpark_number\": data[item].carpark_number };\n      for (let item2 in carparkAddInfo) {\n        if (carparkAddInfo[item2].car_park_no == temp_data[item].carpark_number) {\n          convertSV21 = `https://developers.onemap.sg/commonapi/convert/3414to4326?X=${carparkAddInfo[item2].x_coord}&Y=${carparkAddInfo[item2].y_coord}`;\n          getConvertData(function(latLngConverted) {\n            carparkData[item] = {\n              \"carpark_number\": data[item].carpark_number,\n              \"lot_type\": data[item].carpark_info[0][\"lot_type\"],\n              \"lots_available\": data[item].carpark_info[0][\"lots_available\"],\n              \"total_lots\": data[item].carpark_info[0][\"total_lots\"],\n              \"address\": carparkAddInfo[item2].address,\n              \"car_park_basement\": carparkAddInfo[item].car_park_basement,\n              \"car_park_decks\": carparkAddInfo[item].car_park_decks,\n              \"car_park_type\": carparkAddInfo[item].car_park_type,\n              \"free_parking\": carparkAddInfo[item].free_parking,\n              \"gantry_height\": carparkAddInfo[item].gantry_height,\n              \"night_parking\": carparkAddInfo[item].night_parking,\n              \"short_term_parking\": carparkAddInfo[item].short_term_parking,\n              \"type_of_parking_system\": carparkAddInfo[item].type_of_parking_system,\n              \"x_coord\": latLngConverted.latitude,\n              \"y_coord\": latLngConverted.longitude\n            }\n          })\n        }\n      }\n    }\n  })\n})\nconsole.log(carparkData);\n\n\n$(function() { //TO DETECT FOR CLICK FOR SEARCH & PLACE NEW MARKER\n  $('#current-location').click(function() {\n    clearCurrentMarker();\n    clearMarkerCluster();\n    $(\"#pac-container\").hide();\n    getCurrentLocation();\n  }); \n\n  $(\"#find-location\").click(function(){\n    $(\"#pac-container\").show();\n    autoCompleteEntry();\n  }); \n \n  $(\".radius\").click(function() {\n    radius = $(this).val();\n    clearMarkerCluster();\n    carparkInRadius(currentMarker[0].position.lat(),currentMarker[0].position.lng());\n  }); \n \n});\n","undoManager":{"mark":89,"position":100,"stack":[[{"start":{"row":190,"column":28},"end":{"row":190,"column":29},"action":"remove","lines":[","],"id":750}],[{"start":{"row":189,"column":17},"end":{"row":190,"column":0},"action":"insert","lines":["",""],"id":751},{"start":{"row":190,"column":0},"end":{"row":190,"column":8},"action":"insert","lines":["        "]},{"start":{"row":190,"column":8},"end":{"row":190,"column":9},"action":"insert","lines":["m"]},{"start":{"row":190,"column":9},"end":{"row":190,"column":10},"action":"insert","lines":["a"]},{"start":{"row":190,"column":10},"end":{"row":190,"column":11},"action":"insert","lines":["p"]}],[{"start":{"row":190,"column":11},"end":{"row":190,"column":12},"action":"insert","lines":[" "],"id":752},{"start":{"row":190,"column":12},"end":{"row":190,"column":13},"action":"insert","lines":[":"]}],[{"start":{"row":190,"column":13},"end":{"row":190,"column":14},"action":"insert","lines":[" "],"id":753},{"start":{"row":190,"column":14},"end":{"row":190,"column":15},"action":"insert","lines":["m"]},{"start":{"row":190,"column":15},"end":{"row":190,"column":16},"action":"insert","lines":["a"]},{"start":{"row":190,"column":16},"end":{"row":190,"column":17},"action":"insert","lines":["p"]},{"start":{"row":190,"column":17},"end":{"row":190,"column":18},"action":"insert","lines":[","]}],[{"start":{"row":189,"column":0},"end":{"row":190,"column":0},"action":"remove","lines":["        pos : cp,",""],"id":754}],[{"start":{"row":190,"column":28},"end":{"row":190,"column":29},"action":"insert","lines":[","],"id":755}],[{"start":{"row":190,"column":29},"end":{"row":191,"column":0},"action":"insert","lines":["",""],"id":756},{"start":{"row":191,"column":0},"end":{"row":191,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":191,"column":8},"end":{"row":192,"column":0},"action":"insert","lines":["        pos : cp,",""],"id":757}],[{"start":{"row":191,"column":24},"end":{"row":191,"column":25},"action":"remove","lines":[","],"id":758}],[{"start":{"row":191,"column":14},"end":{"row":191,"column":16},"action":"remove","lines":["  "],"id":759},{"start":{"row":191,"column":12},"end":{"row":191,"column":14},"action":"remove","lines":["  "]},{"start":{"row":191,"column":10},"end":{"row":191,"column":12},"action":"remove","lines":["  "]},{"start":{"row":191,"column":8},"end":{"row":191,"column":10},"action":"remove","lines":["  "]}],[{"start":{"row":329,"column":25},"end":{"row":330,"column":0},"action":"insert","lines":["",""],"id":760},{"start":{"row":330,"column":0},"end":{"row":330,"column":4},"action":"insert","lines":["    "]},{"start":{"row":330,"column":4},"end":{"row":330,"column":5},"action":"insert","lines":["c"]}],[{"start":{"row":330,"column":5},"end":{"row":330,"column":6},"action":"insert","lines":["l"],"id":761},{"start":{"row":330,"column":6},"end":{"row":330,"column":7},"action":"insert","lines":["e"]},{"start":{"row":330,"column":7},"end":{"row":330,"column":8},"action":"insert","lines":["a"]}],[{"start":{"row":330,"column":4},"end":{"row":330,"column":8},"action":"remove","lines":["clea"],"id":762},{"start":{"row":330,"column":4},"end":{"row":330,"column":22},"action":"insert","lines":["clearMarkerCluster"]}],[{"start":{"row":330,"column":22},"end":{"row":330,"column":24},"action":"insert","lines":["()"],"id":763}],[{"start":{"row":330,"column":24},"end":{"row":330,"column":25},"action":"insert","lines":[";"],"id":764}],[{"start":{"row":108,"column":25},"end":{"row":109,"column":0},"action":"insert","lines":["",""],"id":765},{"start":{"row":109,"column":0},"end":{"row":109,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":109,"column":4},"end":{"row":109,"column":25},"action":"insert","lines":["clearMarkerCluster();"],"id":766}],[{"start":{"row":333,"column":25},"end":{"row":334,"column":0},"action":"insert","lines":["",""],"id":767},{"start":{"row":334,"column":0},"end":{"row":334,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":334,"column":4},"end":{"row":335,"column":0},"action":"insert","lines":["    carparkInRadius(currentMarker[0].position.lat(),currentMarker[0].position.lng());",""],"id":768}],[{"start":{"row":334,"column":0},"end":{"row":334,"column":2},"action":"remove","lines":["  "],"id":769},{"start":{"row":334,"column":0},"end":{"row":334,"column":2},"action":"remove","lines":["  "]}],[{"start":{"row":335,"column":0},"end":{"row":336,"column":0},"action":"remove","lines":["",""],"id":770}],[{"start":{"row":340,"column":0},"end":{"row":341,"column":0},"action":"insert","lines":["    carparkInRadius(currentMarker[0].position.lat(),currentMarker[0].position.lng());",""],"id":771}],[{"start":{"row":340,"column":0},"end":{"row":341,"column":0},"action":"remove","lines":["    carparkInRadius(currentMarker[0].position.lat(),currentMarker[0].position.lng());",""],"id":772}],[{"start":{"row":135,"column":30},"end":{"row":136,"column":0},"action":"insert","lines":["",""],"id":773},{"start":{"row":136,"column":0},"end":{"row":136,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":136,"column":4},"end":{"row":137,"column":0},"action":"insert","lines":["    carparkInRadius(currentMarker[0].position.lat(),currentMarker[0].position.lng());",""],"id":774}],[{"start":{"row":138,"column":0},"end":{"row":139,"column":0},"action":"remove","lines":["    // carparkInRadius(marker.position.lat(), marker.position.lng())",""],"id":775}],[{"start":{"row":136,"column":0},"end":{"row":136,"column":2},"action":"remove","lines":["  "],"id":776},{"start":{"row":136,"column":0},"end":{"row":136,"column":2},"action":"remove","lines":["  "]}],[{"start":{"row":136,"column":85},"end":{"row":137,"column":0},"action":"remove","lines":["",""],"id":777}],[{"start":{"row":131,"column":0},"end":{"row":134,"column":8},"action":"remove","lines":["    // currentMarker.position = {","    //   lat : place.geometry.location.lat(),","    //   lng : place.geometry.location.lng()","    // }"],"id":778},{"start":{"row":130,"column":0},"end":{"row":131,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":99,"column":0},"end":{"row":107,"column":9},"action":"remove","lines":["    // marker.setPosition(place.geometry.location); // SETTING MARKER POSITION","    // marker.setAnimation(google.maps.Animation.BOUNCE);","    // marker.setIcon(iconMarker[0]);","    // markerPlacement({","    //   pos : place.geometry.location,","    //   icon : iconMarker[0],","    //   map : map,","    //   animation : google.maps.Animation.BOUNCE","    // })"],"id":779}],[{"start":{"row":322,"column":0},"end":{"row":323,"column":0},"action":"remove","lines":["    carparkInRadius(currentMarker[0].position.lat(),currentMarker[0].position.lng());",""],"id":780}],[{"start":{"row":50,"column":0},"end":{"row":51,"column":0},"action":"remove","lines":["      // carparkInRadius(pos.lat, pos.lng);",""],"id":781},{"start":{"row":50,"column":0},"end":{"row":51,"column":0},"action":"insert","lines":["    carparkInRadius(currentMarker[0].position.lat(),currentMarker[0].position.lng());",""]}],[{"start":{"row":50,"column":4},"end":{"row":50,"column":5},"action":"insert","lines":[" "],"id":782},{"start":{"row":50,"column":5},"end":{"row":50,"column":6},"action":"insert","lines":[" "]}],[{"start":{"row":181,"column":0},"end":{"row":181,"column":2},"action":"insert","lines":["  "],"id":783}],[{"start":{"row":181,"column":2},"end":{"row":181,"column":4},"action":"insert","lines":["  "],"id":784}],[{"start":{"row":181,"column":4},"end":{"row":181,"column":6},"action":"insert","lines":["  "],"id":785}],[{"start":{"row":181,"column":6},"end":{"row":181,"column":8},"action":"insert","lines":["  "],"id":786}],[{"start":{"row":181,"column":8},"end":{"row":182,"column":0},"action":"insert","lines":["        animation : google.maps.Animation.BOUNCE",""],"id":787}],[{"start":{"row":181,"column":14},"end":{"row":181,"column":16},"action":"remove","lines":["  "],"id":788},{"start":{"row":181,"column":12},"end":{"row":181,"column":14},"action":"remove","lines":["  "]},{"start":{"row":181,"column":10},"end":{"row":181,"column":12},"action":"remove","lines":["  "]},{"start":{"row":181,"column":8},"end":{"row":181,"column":10},"action":"remove","lines":["  "]}],[{"start":{"row":181,"column":48},"end":{"row":182,"column":0},"action":"remove","lines":["",""],"id":789},{"start":{"row":181,"column":47},"end":{"row":181,"column":48},"action":"remove","lines":["E"]},{"start":{"row":181,"column":46},"end":{"row":181,"column":47},"action":"remove","lines":["C"]},{"start":{"row":181,"column":45},"end":{"row":181,"column":46},"action":"remove","lines":["N"]},{"start":{"row":181,"column":44},"end":{"row":181,"column":45},"action":"remove","lines":["U"]}],[{"start":{"row":181,"column":43},"end":{"row":181,"column":44},"action":"remove","lines":["O"],"id":790},{"start":{"row":181,"column":42},"end":{"row":181,"column":43},"action":"remove","lines":["B"]}],[{"start":{"row":181,"column":42},"end":{"row":181,"column":43},"action":"insert","lines":["D"],"id":791},{"start":{"row":181,"column":43},"end":{"row":181,"column":44},"action":"insert","lines":["R"]},{"start":{"row":181,"column":44},"end":{"row":181,"column":45},"action":"insert","lines":["O"]},{"start":{"row":181,"column":45},"end":{"row":181,"column":46},"action":"insert","lines":["P"]}],[{"start":{"row":180,"column":16},"end":{"row":180,"column":17},"action":"insert","lines":[","],"id":792}],[{"start":{"row":185,"column":6},"end":{"row":185,"column":9},"action":"remove","lines":["// "],"id":793}],[{"start":{"row":186,"column":6},"end":{"row":186,"column":9},"action":"remove","lines":["// "],"id":794}],[{"start":{"row":185,"column":6},"end":{"row":186,"column":111},"action":"remove","lines":["markerCluster = new MarkerClusterer(map, markers,","        {imagePath: 'https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m'});"],"id":797}],[{"start":{"row":151,"column":22},"end":{"row":152,"column":0},"action":"insert","lines":["",""],"id":798},{"start":{"row":152,"column":0},"end":{"row":152,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":152,"column":2},"end":{"row":153,"column":111},"action":"insert","lines":["markerCluster = new MarkerClusterer(map, markers,","        {imagePath: 'https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m'});"],"id":799}],[{"start":{"row":222,"column":0},"end":{"row":225,"column":6},"action":"remove","lines":["  //   alert(\"click\")","  //   // markers = [];","    // locations = [];","  // }"],"id":800}],[{"start":{"row":219,"column":0},"end":{"row":220,"column":0},"action":"remove","lines":["  // Clears all clusters and markers from the clusterer.",""],"id":801}],[{"start":{"row":220,"column":36},"end":{"row":220,"column":37},"action":"insert","lines":[" "],"id":802},{"start":{"row":220,"column":37},"end":{"row":220,"column":38},"action":"insert","lines":["}"]}],[{"start":{"row":152,"column":1},"end":{"row":153,"column":111},"action":"remove","lines":[" markerCluster = new MarkerClusterer(map, markers,","        {imagePath: 'https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m'});"],"id":803}],[{"start":{"row":185,"column":6},"end":{"row":186,"column":111},"action":"insert","lines":[" markerCluster = new MarkerClusterer(map, markers,","        {imagePath: 'https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m'});"],"id":804}],[{"start":{"row":185,"column":6},"end":{"row":185,"column":7},"action":"remove","lines":[" "],"id":805}],[{"start":{"row":188,"column":3},"end":{"row":191,"column":43},"action":"remove","lines":["   // // console.log(markers)","      // markerTracker.push(markers)","      // console.log(markers)","       // markerTracker.push(markerCluster)"],"id":806}],[{"start":{"row":190,"column":0},"end":{"row":191,"column":0},"action":"remove","lines":["      // // console.log(locations)",""],"id":807}],[{"start":{"row":170,"column":6},"end":{"row":177,"column":12},"action":"remove","lines":["// locations.push(cp);","      // markers = locations.map(function(location, i) {","      //     return new google.maps.Marker({","      //       position: location,","      //       icon : iconMarker[1],","      //       // label: labels[i % labels.length]","      //     });","      // });"],"id":808},{"start":{"row":170,"column":4},"end":{"row":170,"column":6},"action":"remove","lines":["  "]},{"start":{"row":170,"column":2},"end":{"row":170,"column":4},"action":"remove","lines":["  "]},{"start":{"row":170,"column":0},"end":{"row":170,"column":2},"action":"remove","lines":["  "]},{"start":{"row":169,"column":8},"end":{"row":170,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":176,"column":6},"end":{"row":176,"column":7},"action":"insert","lines":["c"],"id":809},{"start":{"row":176,"column":7},"end":{"row":176,"column":8},"action":"insert","lines":["c"]}],[{"start":{"row":176,"column":7},"end":{"row":176,"column":8},"action":"remove","lines":["c"],"id":810},{"start":{"row":176,"column":6},"end":{"row":176,"column":7},"action":"remove","lines":["c"]}],[{"start":{"row":176,"column":6},"end":{"row":176,"column":7},"action":"insert","lines":["c"],"id":811},{"start":{"row":176,"column":7},"end":{"row":176,"column":8},"action":"insert","lines":["o"]},{"start":{"row":176,"column":8},"end":{"row":176,"column":9},"action":"insert","lines":["n"]},{"start":{"row":176,"column":9},"end":{"row":176,"column":10},"action":"insert","lines":["s"]},{"start":{"row":176,"column":10},"end":{"row":176,"column":11},"action":"insert","lines":["o"]},{"start":{"row":176,"column":11},"end":{"row":176,"column":12},"action":"insert","lines":["l"]},{"start":{"row":176,"column":12},"end":{"row":176,"column":13},"action":"insert","lines":["e"]},{"start":{"row":176,"column":13},"end":{"row":176,"column":14},"action":"insert","lines":["."]},{"start":{"row":176,"column":14},"end":{"row":176,"column":15},"action":"insert","lines":["l"]},{"start":{"row":176,"column":15},"end":{"row":176,"column":16},"action":"insert","lines":["o"]}],[{"start":{"row":176,"column":16},"end":{"row":176,"column":17},"action":"insert","lines":["g"],"id":812}],[{"start":{"row":176,"column":5},"end":{"row":179,"column":6},"action":"remove","lines":[" console.log","      markerCluster = new MarkerClusterer(map, markers,","        {imagePath: 'https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m'});","      "],"id":813}],[{"start":{"row":183,"column":0},"end":{"row":183,"column":2},"action":"insert","lines":["  "],"id":814}],[{"start":{"row":183,"column":2},"end":{"row":183,"column":4},"action":"insert","lines":["  "],"id":815}],[{"start":{"row":183,"column":4},"end":{"row":186,"column":6},"action":"insert","lines":[" console.log","      markerCluster = new MarkerClusterer(map, markers,","        {imagePath: 'https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m'});","      "],"id":816}],[{"start":{"row":184,"column":4},"end":{"row":184,"column":6},"action":"remove","lines":["  "],"id":817}],[{"start":{"row":183,"column":4},"end":{"row":183,"column":5},"action":"remove","lines":[" "],"id":818}],[{"start":{"row":183,"column":15},"end":{"row":183,"column":17},"action":"insert","lines":["()"],"id":819}],[{"start":{"row":183,"column":16},"end":{"row":183,"column":17},"action":"insert","lines":["m"],"id":820},{"start":{"row":183,"column":17},"end":{"row":183,"column":18},"action":"insert","lines":["a"]},{"start":{"row":183,"column":18},"end":{"row":183,"column":19},"action":"insert","lines":["r"]},{"start":{"row":183,"column":19},"end":{"row":183,"column":20},"action":"insert","lines":["k"]},{"start":{"row":183,"column":20},"end":{"row":183,"column":21},"action":"insert","lines":["e"]},{"start":{"row":183,"column":21},"end":{"row":183,"column":22},"action":"insert","lines":["r"]},{"start":{"row":183,"column":22},"end":{"row":183,"column":23},"action":"insert","lines":["s"]}],[{"start":{"row":183,"column":0},"end":{"row":186,"column":0},"action":"remove","lines":["    console.log(markers)","    markerCluster = new MarkerClusterer(map, markers,","        {imagePath: 'https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m'});",""],"id":821}],[{"start":{"row":185,"column":2},"end":{"row":188,"column":0},"action":"insert","lines":["    console.log(markers)","    markerCluster = new MarkerClusterer(map, markers,","        {imagePath: 'https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m'});",""],"id":822}],[{"start":{"row":185,"column":4},"end":{"row":185,"column":6},"action":"remove","lines":["  "],"id":823},{"start":{"row":185,"column":2},"end":{"row":185,"column":4},"action":"remove","lines":["  "]}],[{"start":{"row":186,"column":2},"end":{"row":186,"column":4},"action":"remove","lines":["  "],"id":824}],[{"start":{"row":189,"column":2},"end":{"row":189,"column":32},"action":"remove","lines":["// console.log(markerCluster);"],"id":825},{"start":{"row":189,"column":0},"end":{"row":189,"column":2},"action":"remove","lines":["  "]},{"start":{"row":188,"column":0},"end":{"row":189,"column":0},"action":"remove","lines":["",""]},{"start":{"row":187,"column":111},"end":{"row":188,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":205,"column":2},"end":{"row":205,"column":5},"action":"remove","lines":["// "],"id":826}],[{"start":{"row":206,"column":2},"end":{"row":206,"column":5},"action":"remove","lines":["// "],"id":827}],[{"start":{"row":206,"column":34},"end":{"row":208,"column":2},"action":"insert","lines":["","    ","  "],"id":828}],[{"start":{"row":207,"column":2},"end":{"row":207,"column":3},"action":"remove","lines":[" "],"id":829},{"start":{"row":207,"column":0},"end":{"row":207,"column":2},"action":"remove","lines":["  "]},{"start":{"row":206,"column":34},"end":{"row":207,"column":1},"action":"remove","lines":[""," "]}],[{"start":{"row":206,"column":34},"end":{"row":206,"column":35},"action":"insert","lines":["s"],"id":830}],[{"start":{"row":206,"column":34},"end":{"row":206,"column":35},"action":"remove","lines":["s"],"id":831}],[{"start":{"row":176,"column":5},"end":{"row":182,"column":11},"action":"insert","lines":["// SET INFOWINDOW FOR THE MARKER UPON CLICK","        var infoWindow = new google.maps.InfoWindow({","          content : \"<h1>I am a driver</h1>\"","        });","        marker.addListener('click', function(){","          infoWindow.open(map,marker);","        });"],"id":832}],[{"start":{"row":177,"column":6},"end":{"row":177,"column":8},"action":"remove","lines":["  "],"id":833}],[{"start":{"row":179,"column":6},"end":{"row":179,"column":8},"action":"remove","lines":["  "],"id":834}],[{"start":{"row":180,"column":6},"end":{"row":180,"column":8},"action":"remove","lines":["  "],"id":835}],[{"start":{"row":182,"column":6},"end":{"row":182,"column":8},"action":"remove","lines":["  "],"id":836}],[{"start":{"row":177,"column":6},"end":{"row":182,"column":9},"action":"remove","lines":["var infoWindow = new google.maps.InfoWindow({","          content : \"<h1>I am a driver</h1>\"","      });","      marker.addListener('click', function(){","          infoWindow.open(map,marker);","      });"],"id":837}],[{"start":{"row":150,"column":3},"end":{"row":151,"column":0},"action":"insert","lines":["",""],"id":838},{"start":{"row":151,"column":0},"end":{"row":151,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":151,"column":2},"end":{"row":156,"column":9},"action":"insert","lines":["var infoWindow = new google.maps.InfoWindow({","          content : \"<h1>I am a driver</h1>\"","      });","      marker.addListener('click', function(){","          infoWindow.open(map,marker);","      });"],"id":839}],[{"start":{"row":156,"column":5},"end":{"row":156,"column":6},"action":"remove","lines":[" "],"id":840},{"start":{"row":156,"column":4},"end":{"row":156,"column":5},"action":"remove","lines":[" "]},{"start":{"row":156,"column":2},"end":{"row":156,"column":4},"action":"remove","lines":["  "]}],[{"start":{"row":152,"column":31},"end":{"row":152,"column":38},"action":"remove","lines":[" driver"],"id":841},{"start":{"row":152,"column":31},"end":{"row":152,"column":32},"action":"insert","lines":["v"]},{"start":{"row":152,"column":32},"end":{"row":152,"column":33},"action":"insert","lines":["a"]},{"start":{"row":152,"column":33},"end":{"row":152,"column":34},"action":"insert","lines":["i"]},{"start":{"row":152,"column":34},"end":{"row":152,"column":35},"action":"insert","lines":["l"]},{"start":{"row":152,"column":35},"end":{"row":152,"column":36},"action":"insert","lines":["a"]},{"start":{"row":152,"column":36},"end":{"row":152,"column":37},"action":"insert","lines":["b"]},{"start":{"row":152,"column":37},"end":{"row":152,"column":38},"action":"insert","lines":["l"]},{"start":{"row":152,"column":38},"end":{"row":152,"column":39},"action":"insert","lines":["e"]}],[{"start":{"row":152,"column":25},"end":{"row":152,"column":39},"action":"remove","lines":["I am available"],"id":842},{"start":{"row":152,"column":25},"end":{"row":152,"column":26},"action":"insert","lines":["{"]}],[{"start":{"row":152,"column":26},"end":{"row":152,"column":27},"action":"insert","lines":["$"],"id":843}],[{"start":{"row":152,"column":26},"end":{"row":152,"column":27},"action":"remove","lines":["$"],"id":844},{"start":{"row":152,"column":25},"end":{"row":152,"column":26},"action":"remove","lines":["{"]}],[{"start":{"row":150,"column":3},"end":{"row":151,"column":0},"action":"insert","lines":["",""],"id":845},{"start":{"row":151,"column":0},"end":{"row":151,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":151,"column":2},"end":{"row":151,"column":3},"action":"insert","lines":["i"],"id":846},{"start":{"row":151,"column":3},"end":{"row":151,"column":4},"action":"insert","lines":["="]},{"start":{"row":151,"column":4},"end":{"row":151,"column":5},"action":"insert","lines":["="]}],[{"start":{"row":151,"column":4},"end":{"row":151,"column":5},"action":"remove","lines":["="],"id":847},{"start":{"row":151,"column":3},"end":{"row":151,"column":4},"action":"remove","lines":["="]}],[{"start":{"row":151,"column":3},"end":{"row":151,"column":4},"action":"insert","lines":["+"],"id":848},{"start":{"row":151,"column":4},"end":{"row":151,"column":5},"action":"insert","lines":["+"]},{"start":{"row":151,"column":5},"end":{"row":151,"column":6},"action":"insert","lines":[";"]}],[{"start":{"row":13,"column":0},"end":{"row":13,"column":1},"action":"insert","lines":["v"],"id":849},{"start":{"row":13,"column":1},"end":{"row":13,"column":2},"action":"insert","lines":["a"]},{"start":{"row":13,"column":2},"end":{"row":13,"column":3},"action":"insert","lines":["r"]}],[{"start":{"row":13,"column":3},"end":{"row":13,"column":4},"action":"insert","lines":[" "],"id":850}],[{"start":{"row":13,"column":4},"end":{"row":13,"column":5},"action":"insert","lines":["c"],"id":851},{"start":{"row":13,"column":5},"end":{"row":13,"column":6},"action":"insert","lines":["o"]},{"start":{"row":13,"column":6},"end":{"row":13,"column":7},"action":"insert","lines":["u"]},{"start":{"row":13,"column":7},"end":{"row":13,"column":8},"action":"insert","lines":["n"]},{"start":{"row":13,"column":8},"end":{"row":13,"column":9},"action":"insert","lines":["t"]},{"start":{"row":13,"column":9},"end":{"row":13,"column":10},"action":"insert","lines":["e"]},{"start":{"row":13,"column":10},"end":{"row":13,"column":11},"action":"insert","lines":["r"]}],[{"start":{"row":13,"column":11},"end":{"row":13,"column":12},"action":"insert","lines":[";"],"id":852}]]},"ace":{"folds":[{"start":{"row":3,"column":18},"end":{"row":6,"column":0},"placeholder":"..."},{"start":{"row":16,"column":20},"end":{"row":33,"column":0},"placeholder":"..."},{"start":{"row":35,"column":31},"end":{"row":59,"column":0},"placeholder":"..."},{"start":{"row":61,"column":70},"end":{"row":67,"column":0},"placeholder":"..."},{"start":{"row":69,"column":30},"end":{"row":126,"column":0},"placeholder":"..."},{"start":{"row":129,"column":35},"end":{"row":140,"column":0},"placeholder":"..."},{"start":{"row":228,"column":40},"end":{"row":237,"column":0},"placeholder":"..."},{"start":{"row":239,"column":36},"end":{"row":246,"column":0},"placeholder":"..."},{"start":{"row":248,"column":35},"end":{"row":255,"column":0},"placeholder":"..."},{"start":{"row":257,"column":60},"end":{"row":268,"column":0},"placeholder":"..."},{"start":{"row":269,"column":23},"end":{"row":271,"column":0},"placeholder":"..."},{"start":{"row":273,"column":42},"end":{"row":304,"column":0},"placeholder":"..."}],"scrolltop":120,"scrollleft":0,"selection":{"start":{"row":13,"column":12},"end":{"row":13,"column":12},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":8,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1565932998654}